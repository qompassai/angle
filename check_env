#!/usr/bin/env bash
set -euo pipefail
XDG_CONFIG_HOME="${XDG_CONFIG_HOME:-$HOME/.config}"
XDG_CACHE_HOME="${XDG_CACHE_HOME:-$HOME/.cache}"
XDG_DATA_HOME="${XDG_DATA_HOME:-$HOME/.local/share}"
XDG_STATE_HOME="${XDG_STATE_HOME:-$HOME/.local/state}"
XDG_LIB_HOME="${XDG_LIB_HOME:-$HOME/.local/lib}"
declare -A paths=(
  ["ANGLE_HOME"]="$XDG_LIB_HOME/angle"
  ["CARGO_HOME"]="$XDG_DATA_HOME/cargo"
  ["MESA_GLSL_CACHE_DIR"]="$XDG_CACHE_HOME/mesa_shader_cache"
  ["MESA_SHADER_CACHE_DIR"]="$XDG_CACHE_HOME/mesa_shader_cache_db"
  ["OCL_ICD_VENDORS"]="$XDG_CONFIG_HOME/OpenCL/vendors"
  ["RUSTUP_HOME"]="$XDG_DATA_HOME/rustup"
  ["XDG_DESKTOP_DIR"]="$HOME/Desktop"
  ["XDG_DOWNLOAD_DIR"]="$HOME/Downloads"
  ["XDG_CONFIG_HOME"]="$XDG_CONFIG_HOME"
  ["XDG_DATA_HOME"]="$XDG_DATA_HOME"
  ["XDG_CACHE_HOME"]="$XDG_CACHE_HOME"
  ["XDG_LIB_HOME"]="$XDG_LIB_HOME"
  ["XDG_STATE_HOME"]="$XDG_STATE_HOME"
)
echo " Checking environment variable paths:"
echo "--------------------------------------"
for key in "${!paths[@]}"; do
  expanded=$(eval echo "${paths[$key]}")
  if [[ -d "$expanded" ]]; then
    printf "✅ %-25s -> %s\n" "$key" "$expanded"
  else
    printf "❌ %-25s -> %s (missing)\n" "$key" "$expanded"
  fi
done
